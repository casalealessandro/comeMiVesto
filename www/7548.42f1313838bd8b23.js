"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7548],{7548:(R,f,d)=>{d.d(f,{i:()=>E});var _=d(467);const g=[{id:"N",value:"Nero",parent:null,hex:"#000000"},{id:"B",value:"Bianco",parent:null,hex:"#FFFFFF"},{id:"G",value:"Grigio",parent:null,hex:"#808080"},{id:"Bg",value:"Beige",parent:null,hex:"#F5F5DC"},{id:"BN",value:"Blu navy",parent:null,hex:"#000080"},{id:"R",value:"Rosso",parent:null,hex:"#FF0000"},{id:"VO",value:"Verde oliva",parent:null,hex:"#808000"},{id:"GS",value:"Giallo senape",parent:null,hex:"#FFDB58"},{id:"RP",value:"Rosa pallido",parent:null,hex:"#FFD1DC"},{id:"A",value:"Azzurro",parent:null,hex:"#ADD8E6"},{id:"M",value:"Marrone",parent:null,hex:"#964B00"},{id:"O",value:"Arancione",parent:null,hex:"#FFA500"}],C=[{id:"C",value:"Casual",parent:null},{id:"B",value:"Business",parent:null},{id:"SP",value:"Sportivo",parent:null},{id:"SC",value:"Smart Casual",parent:null},{id:"E",value:"Elegante",parent:null},{id:"AT",value:"Alternativo",parent:null},{id:"FES",value:"Festival",parent:null},{id:"CL",value:"Classico",parent:null},{id:"TR",value:"Trendy",parent:null},{id:"SE",value:"Serata",parent:null}],h=[{id:"TS",value:"T-shirt",parent:"M"},{id:"PO",value:"Polo",parent:"M"},{id:"CM",value:"Camicie",parent:"M"},{id:"FL",value:"Felpa",parent:"M"},{id:"SNK",value:"Sneakers",parent:"S"},{id:"BST",value:"Stivali",parent:"S"},{id:"SD",value:"Sandali",parent:"S"},{id:"MR",value:"Mocassini",parent:"S"},{id:"DRS",value:"Scarpe Eleganti",parent:"S"},{id:"BT",value:"Scarponcini",parent:"S"},{id:"JE",value:"Jeans",parent:"P"},{id:"CH",value:"Chino",parent:"P"},{id:"TR",value:"Tuta",parent:"P"},{id:"SRT",value:"Shorts",parent:"P"},{id:"CRG",value:"Cargo",parent:"P"},{id:"CL",value:"Classici",parent:"P"},{id:"GTP",value:"Giubbotti in Pelle",parent:"G"},{id:"GTS",value:"Giubbotti in Stoffa",parent:"G"},{id:"GTR",value:"Giubbotti in Tessuto Tecnico",parent:"G"},{id:"PRA",value:"Parka",parent:"G"},{id:"CAP",value:"Cappelli",parent:"A"},{id:"GLV",value:"Guanti",parent:"A"},{id:"SCF",value:"Sciarpe",parent:"A"},{id:"BLT",value:"Cinture",parent:"A"},{id:"WLT",value:"Portafogli",parent:"A"},{id:"BAG",value:"Borse",parent:"A"},{id:"TIE",value:"Cravatte",parent:"A"},{id:"SHK",value:"Fazzoletti da taschino",parent:"A"},{id:"CDC",value:"Completo da cerimonia",parent:"ABC"},{id:"CS",value:"Completo sposo",parent:"ABC"},{id:"SMK",value:"Smoking",parent:"ABC"},{id:"MG",value:"Maglioncini",parent:"M"},{id:"GAE",value:"Gicche eleganti",parent:"G"},{id:"GAV",value:"Giacche a vento",parent:"G"}],m=[{id:"E",value:"Estate",parent:null},{id:"P",value:"Primavera",parent:null},{id:"A",value:"Autunno",parent:null},{id:"I",value:"Inverno",parent:null}];var t=d(3953),s=d(4742),S=d(3283),p=d(177);const F=()=>[.75,1],v=o=>({"background-color":o});function b(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-card",10)(1,"ion-card-header")(2,"ion-card-subtitle"),t.EFF(3,"Selaziona un capo d'abbigliamento/colore "),t.k0s()(),t.j41(4,"ion-card-content",6)(5,"ion-chip",11),t.bIt("click",function(){const i=t.eBV(l).index,n=t.XpG();return t.Njj(n.openCategory(i))}),t.j41(6,"ion-label",12),t.EFF(7),t.j41(8,"span",13),t.bIt("click",function(i){const n=t.eBV(l).index,u=t.XpG();return t.Njj(u.delItmCloth(i,n))}),t.nrm(9,"ion-icon",14),t.k0s()()(),t.j41(10,"ion-chip",11),t.bIt("click",function(){const i=t.eBV(l).index,n=t.XpG();return t.Njj(n.openColor(i))}),t.j41(11,"ion-label"),t.EFF(12),t.j41(13,"span",13),t.bIt("click",function(i){const n=t.eBV(l).index,u=t.XpG();return t.Njj(u.delItmColor(i,n))}),t.nrm(14,"ion-icon",14),t.k0s()()()()()}if(2&o){const l=c.$implicit;t.R7$(7),t.SpI(" ",l.outfitSubCategoryName," "),t.R7$(5),t.SpI(" ",l.colorName," ")}}function y(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-chip",15),t.bIt("click",function(){const i=t.eBV(l),n=i.$implicit,u=i.index,a=t.XpG();return t.Njj(a.selStyle(u,n))}),t.j41(1,"ion-label"),t.EFF(2),t.k0s()()}if(2&o){const l=c.$implicit,e=c.index,i=t.XpG();t.Y8G("ngClass",i.selectedFilterStyleIndex==e?"styleselcted":""),t.R7$(2),t.SpI(" ",l.value," ")}}function I(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-chip",15),t.bIt("click",function(){const i=t.eBV(l),n=i.$implicit,u=i.index,a=t.XpG();return t.Njj(a.selSeason(u,n))}),t.j41(1,"ion-label"),t.EFF(2),t.k0s()()}if(2&o){const l=c.$implicit,e=c.index,i=t.XpG();t.Y8G("ngClass",i.selectedFilterSeasonIndex==e?"styleselcted":""),t.R7$(2),t.SpI(" ",l.value," ")}}function O(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-col",22)(1,"div",16),t.bIt("click",function(){const i=t.eBV(l).$implicit,n=t.XpG(4);return t.Njj(n.selectedSubCat(i))}),t.j41(2,"ion-thumbnail",23),t.nrm(3,"img",24),t.k0s(),t.j41(4,"ion-label",25),t.EFF(5),t.k0s()()()}if(2&o){const l=c.$implicit;t.R7$(3),t.Y8G("src",l.image||"../../../assets/images/sub_categories/generic.jpg",t.B4B)("alt",l.value),t.R7$(2),t.JRh(l.value)}}function x(o,c){if(1&o&&(t.qex(0),t.DNE(1,O,6,3,"ion-col",21),t.bVm()),2&o){const l=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.oufitSubCategories[l.id])}}function k(o,c){1&o&&(t.j41(0,"ion-col")(1,"p",26),t.EFF(2,"Nessun prodotto."),t.k0s()())}function G(o,c){if(1&o&&(t.j41(0,"ion-row")(1,"ion-item-divider")(2,"ion-label"),t.EFF(3),t.k0s()(),t.DNE(4,x,2,1,"ng-container",20)(5,k,3,0,"ng-template",null,2,t.C5r),t.k0s()),2&o){const l=c.$implicit,e=t.sdS(6),i=t.XpG(2);t.R7$(3),t.JRh(l.value),t.R7$(),t.Y8G("ngIf",i.oufitSubCategories[l.id]&&i.oufitSubCategories[l.id].length>0)("ngIfElse",e)}}function P(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Scegli la categoria "),t.k0s(),t.j41(4,"ion-buttons",3)(5,"ion-button",16),t.bIt("click",function(){t.eBV(l);const i=t.XpG();return t.Njj(i.selectedSubCat())}),t.EFF(6,"Chiudi"),t.k0s()()()(),t.j41(7,"ion-content",17)(8,"ion-grid",18),t.DNE(9,G,7,3,"ion-row",19),t.k0s()()}if(2&o){const l=t.XpG();t.R7$(8),t.Y8G("fixed",!0),t.R7$(),t.Y8G("ngForOf",l.oufitCategories)}}function j(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-item",16),t.bIt("click",function(){const i=t.eBV(l).$implicit,n=t.XpG(2);return t.Njj(n.selectedColor(i))}),t.nrm(1,"span",28),t.j41(2,"ion-label"),t.EFF(3),t.k0s()()}if(2&o){const l=c.$implicit;t.R7$(),t.Y8G("ngStyle",t.eq3(2,v,l.hex)),t.R7$(2),t.JRh(l.value)}}function M(o,c){if(1&o){const l=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Scegli la Colore "),t.k0s(),t.j41(4,"ion-buttons",3)(5,"ion-button",16),t.bIt("click",function(){t.eBV(l);const i=t.XpG();return t.Njj(i.selectedColor())}),t.EFF(6,"Close"),t.k0s()()()(),t.j41(7,"ion-content",17)(8,"ion-list"),t.DNE(9,j,4,4,"ion-item",27),t.k0s()()}if(2&o){const l=t.XpG();t.R7$(9),t.Y8G("ngForOf",l.itmColor)}}let E=(()=>{var o;class c{constructor(e,i){this.modalController=e,this.appService=i,this.oufitCategories=[],this.isModalOpenCat=!1,this.isModalOpenColor=!1,this.filterItmClothing=[]}ngOnInit(){var e=this;return(0,_.A)(function*(){e.oufitCategories=yield e.appService.getFilteredCollection("outfitsCategories",[]);let i=yield e.appService.getFilteredCollection("outfitsSubCategories",[]);if(e.simpleOufitSubCategories=i,e.oufitSubCategories=i.reduce((n,u)=>{var a;const r=u.parent;return n[r]=null!==(a=n[r])&&void 0!==a?a:[],n[r].push(u),n},{}),e.filterItmClothing.push({image:"",outfitCategory:"",outfitSubCategoryName:"Seleziona capo",outfitSubCategory:"",colorName:"Seleziona colore",color:"",style:""},{image:"",outfitCategory:"",outfitSubCategoryName:"Seleziona capo",outfitSubCategory:"",colorName:"Seleziona colore",color:""}),console.log("filterItmClothing--\x3e",e.filterItmClothing),e.itmColor=g,e.itmStyles=C,e.itmSeasons=m,typeof e.currentFilterSel.season<"u"&&(e.selectedFilterSeasonIndex=e.itmSeasons.findIndex(n=>n.id==e.currentFilterSel.season)),typeof e.currentFilterSel.style<"u"&&(e.selectedFilterStyleIndex=e.itmStyles.findIndex(n=>n.id==e.currentFilterSel.style)),typeof e.currentFilterSel.outfitCategory<"u"&&e.currentFilterSel.outfitCategory.length>0){console.log(e.currentFilterSel.tags);const n=e.currentFilterSel.outfitCategory;e.oufitCategories.filter(a=>n.includes(a.id)).forEach((a,r)=>{e.filterItmClothing[r]={...e.filterItmClothing[r],outfitCategory:a.id}})}if(typeof e.currentFilterSel.outfitSubCategory<"u"){const n=e.currentFilterSel.outfitSubCategory,u=e.simpleOufitSubCategories.filter(a=>n.includes(a.id));console.log(u),u.forEach((a,r)=>{e.filterItmClothing[r]={...e.filterItmClothing[r],outfitSubCategory:a.id,outfitSubCategoryName:a.value}})}if("undefined"!=e.currentFilterSel.color){const n=e.currentFilterSel.color,u=e.itmColor.filter(a=>n.includes(a.id));console.log(u),u.forEach((a,r)=>{e.filterItmClothing[r]={...e.filterItmClothing[r],color:a.id,colorName:a.value}})}})()}selectedSubCat(e){if(!e)return this.isModalOpenCat=!1,void(this.selectedFilterClothIndex=void 0);this.isModalOpenCat=!this.isModalOpenCat;const i=this.selectedFilterClothIndex;this.filterItmClothing[i]={...this.filterItmClothing[i],outfitCategory:e.parent,outfitSubCategoryName:e.value,outfitSubCategory:e.id},this.selectedFilterClothIndex=void 0}openCategory(e){this.selectedFilterClothIndex=e,this.isModalOpenCat=!this.isModalOpenCat}selectedColor(e){if(!e)return this.isModalOpenColor=!1,void(this.selectedFilterClothIndex=void 0);this.isModalOpenColor=!this.isModalOpenColor;const i=this.selectedFilterClothIndex;this.filterItmClothing[i]={...this.filterItmClothing[i],colorName:e.value,color:e.id},this.selectedFilterClothIndex=void 0}selStyle(e,i){if(this.selectedFilterStyleIndex==e)return this.filterItmStyle=null,void(this.selectedFilterStyleIndex=null);this.selectedFilterStyleIndex=e,this.filterItmStyle=i}selSeason(e,i){if(this.selectedFilterSeasonIndex==e)return this.filterItmSeason=null,void(this.selectedFilterSeasonIndex=null);this.selectedFilterSeasonIndex=e,this.filterItmSeason=i}openColor(e){this.selectedFilterClothIndex=e,this.isModalOpenColor=!this.isModalOpenColor}delItmCloth(e,i){e.preventDefault(),e.stopPropagation(),this.filterItmClothing[i]={...this.filterItmClothing[i],outfitCategory:"",outfitSubCategoryName:"Seleziona capo",outfitSubCategory:""}}delItmColor(e,i){e.preventDefault(),e.stopPropagation(),this.filterItmClothing[i]={...this.filterItmClothing[i],colorName:"Seleziona colore",color:""}}closeFilter(){let e;this.filterItmClothing&&(e=this.filterItmClothing.reduce((a,r)=>(r&&(r.outfitCategory&&!a.outfitCategory.includes(r.outfitCategory)&&a.outfitCategory.push(r.outfitCategory),r.outfitSubCategory&&!a.outfitSubCategory.includes(r.outfitSubCategory)&&a.outfitSubCategory.push(r.outfitSubCategory),r.color&&!a.color.includes(r.color)&&a.color.push(r.color)),a),{outfitCategory:[],outfitSubCategory:[],color:[]}));let u={color:"",style:this.filterItmStyle?this.filterItmStyle.id:"",season:this.filterItmSeason?this.filterItmSeason.id:"",...e};this.modalController.dismiss(u)}addAllCategory(){h.forEach(e=>{let i=`${e.id}_${e.value.replace(" ","")}`;this.appService.saveInCollection("outfitsSubCategories",i,e)})}}return(o=c).\u0275fac=function(e){return new(e||o)(t.rXU(s.W3),t.rXU(S.d))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-filter-outfits"]],inputs:{currentFilterSel:"currentFilterSel"},decls:27,vars:8,consts:[["categories",""],["color",""],["noSubCategories",""],["slot","end"],["fill","clear",3,"click"],["class","card-filter-cloth",4,"ngFor","ngForOf"],[1,"slot"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"isOpen"],[1,"ion-padding",3,"isOpen","initialBreakpoint","breakpoints"],[1,"card-filter-cloth"],[1,"outfit-button",3,"click"],[1,"cloth-label"],[1,"del-itm-cloth",3,"click"],["name","close-circle-outline"],[3,"click","ngClass"],[3,"click"],[1,"ion-padding"],[3,"fixed"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["size","3","class","sub-categories",4,"ngFor","ngForOf"],["size","3",1,"sub-categories"],[1,"thumb-sub-categories"],[3,"src","alt"],[1,"label-categories"],[1,"no-results"],[3,"click",4,"ngFor","ngForOf"],[1,"color-hex",3,"ngStyle"]],template:function(e,i){if(1&e){const n=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Cosa stai cercando?"),t.k0s(),t.j41(4,"ion-buttons",3)(5,"ion-button",4),t.bIt("click",function(){return t.eBV(n),t.Njj(i.closeFilter())}),t.EFF(6," Chiudi "),t.k0s()()()(),t.j41(7,"ion-content"),t.DNE(8,b,15,2,"ion-card",5),t.j41(9,"ion-card")(10,"ion-card-header")(11,"ion-card-subtitle"),t.EFF(12,"Seleziona lo stile"),t.k0s()(),t.j41(13,"ion-card-content",6),t.DNE(14,y,3,2,"ion-chip",7),t.k0s()(),t.j41(15,"ion-card")(16,"ion-card-header")(17,"ion-card-subtitle"),t.EFF(18,"Seleziona la stagione"),t.k0s()(),t.j41(19,"ion-card-content",6),t.DNE(20,I,3,2,"ion-chip",7),t.k0s()()(),t.j41(21,"ion-modal",8,0),t.DNE(23,P,10,2,"ng-template"),t.k0s(),t.j41(24,"ion-modal",9,1),t.DNE(26,M,10,1,"ng-template"),t.k0s()}2&e&&(t.R7$(8),t.Y8G("ngForOf",i.filterItmClothing),t.R7$(6),t.Y8G("ngForOf",i.itmStyles),t.R7$(6),t.Y8G("ngForOf",i.itmSeasons),t.R7$(),t.Y8G("isOpen",i.isModalOpenCat),t.R7$(3),t.Y8G("isOpen",i.isModalOpenColor)("initialBreakpoint",.75)("breakpoints",t.lJ4(7,F)))},dependencies:[p.YU,p.Sq,p.bT,p.B3,s.Jm,s.QW,s.b_,s.I9,s.ME,s.HW,s.ZB,s.hU,s.W9,s.lO,s.eU,s.iq,s.uz,s.Dg,s.he,s.nf,s.ln,s.Zx,s.BC,s.ai,s.Sb],styles:[".slot[_ngcontent-%COMP%]{padding:5px 14px}.slot[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{background-color:#fff;border:2px solid lightgray;border-radius:8px;padding:5px 8px;font-weight:500;font-size:13px}.slot[_ngcontent-%COMP%]   ion-chip.styleselcted[_ngcontent-%COMP%]{background-color:#d3d3d3}.card-filter-cloth[_ngcontent-%COMP%]   .cloth-label[_ngcontent-%COMP%]{display:flex}.card-filter-cloth[_ngcontent-%COMP%]   .cloth-label[_ngcontent-%COMP%]   .del-itm-cloth[_ngcontent-%COMP%]{color:var(--outfit-btn-text-color)}.color-hex[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:10px;display:block;border:1px solid lightgray}.sub-categories[_ngcontent-%COMP%]   .label-categories[_ngcontent-%COMP%]{font-size:.8rem}"]}),c})()}}]);